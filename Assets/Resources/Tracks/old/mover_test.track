<?xml version="1.0" encoding="utf-8"?>
<track type="plane" u="5">


  <boundary>
    <vertex q1="-100" q2="33.3"/>
    <vertex q1="-33.3" q2="100"/>
    <vertex q1="33.3" q2="100"/>
    <vertex q1="100" q2="33.3"/>
    <vertex q1="100" q2="-33.3"/>
    <vertex q1="33.3" q2="-100"/>
    <vertex q1="-33.3" q2="-100"/>
    <vertex q1="-100" q2="-33.3"/>
  </boundary>

  <livezone>
    <vertex q1="-86.6" q2="28.6"/>
    <vertex q1="-28.6" q2="86.6"/>
    <vertex q1="28.6" q2="86.6"/>
    <vertex q1="86.6" q2="28.6"/>
    <vertex q1="86.6" q2="-28.6"/>
    <vertex q1="28.6" q2="-86.6"/>
    <vertex q1="-28.6" q2="-86.6"/>
    <vertex q1="-86.6" q2="-28.6"/>
  </livezone>

  <groundPolygon material="cellular.png">
    <vertex q1="-103.3" q2="35.6"/>
    <vertex q1="-35.6" q2="103.3"/>
    <vertex q1="35.6" q2="103.3"/>
    <vertex q1="103.3" q2="35.6"/>
    <vertex q1="103.3" q2="-35.6"/>
    <vertex q1="35.6" q2="-103.3"/>
    <vertex q1="-35.6" q2="-103.3"/>
    <vertex q1="-103.3" q2="-35.6"/>
  </groundPolygon>


  <bgcolor r="0.0" g="0.0" b="0.0" />

  <OnLoadTriggers>
    <trigger target="mover1" />
  </OnLoadTriggers>


  <UniformProbabilityTrigger name="hide_anything_at_all" p="0.66">
    <trigger target="choose_what_to_hide"/>
    <trigger target="hide_nothing" enabled="false"/>
  </UniformProbabilityTrigger>

  <UniformProbabilityTrigger name="choose_what_to_hide" p="0.5">
    <trigger target="hider1"/>
    <trigger target="hider2" enabled="false"/>
  </UniformProbabilityTrigger>

  <UniformProbabilityTrigger name="hide_nothing" p="0">
    <trigger target="hider1"/>
    <trigger target="hider2"/>
  </UniformProbabilityTrigger>
  

  <dispensers>
    <hider name="hider1">
      <target name="pillar1"/>
    </hider>

    <hider name="hider2">
      <target name="sound_one"/>
    </hider>

    <rewarddispenser name="autoReward" initialDelay="0" delay="400" duration="200" burstCount="1" probability="1.0">
      <trigger target="muteDispenser" />
      <trigger target="blackoutDispenser" />
      <trigger target="ballDecoupleDispenser" />
      <trigger target="hide_anything_at_all" />
      <trigger target="mover1" />
    </rewarddispenser>

    <audiodispenser name="rewardToneDispenser">
      <sound name="reward" file="reward1.wav" gain="0.0" maxdistance="100" height="5" />
    </audiodispenser>

    <audioblackoutdispenser name="muteDispenser" maxTime="2000" />
    <blackoutdispenser name="blackoutDispenser" maxTime="2000"/>
    <balldecoupledispenser name="ballDecoupleDispenser" maxTime="2000"/>

    <randommover name="mover1" q1min="-90" q1max="90" q2min="-90" q2max="90">
      <target name="pillar1"/>
      <target name="sound_one"/>
      <target name="reward_zone"/>
    </randommover>

  </dispensers>

  <positions>

    <position q1="0" q2="0">
      <avatar height="0">
        <direction q1="0" q2="1" />
      </avatar>
    </position>

    <position q1="0" q2="0">
      
      <mesh name="pillar1" height="50" meshfile="pillar.mesh">
        <facing x="0" y="-1" z="0"/>
        <scale x="10" y="30" z="10"/>
      </mesh>

      <sound name="sound_one" file="10.wav" height="25" gain="1.0" maxdistance="25" playing="true">
        <facing x="-1" y="0" z="1"/>
      </sound>

      <occupationzone name="reward_zone" active="true" mintime="0">
        <radialboundary radius="15"/>
        <onentry>
          <trigger target="autoReward" enabled="true"/>
        </onentry>
        <onexit>
          <trigger target="autoReward" enabled="false"/>
        </onexit>
      </occupationzone>
      
    </position>

  </positions>

</track>
